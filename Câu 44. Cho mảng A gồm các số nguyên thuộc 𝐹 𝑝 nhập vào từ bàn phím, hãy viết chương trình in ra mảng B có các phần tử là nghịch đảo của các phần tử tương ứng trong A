Cho máº£ng A gá»“m cÃ¡c sá»‘ nguyÃªn thuá»™c ğ¹ ğ‘ nháº­p vÃ o tá»« bÃ n phÃ­m, hÃ£y viáº¿t chÆ°Æ¡ng
trÃ¬nh in ra máº£ng B cÃ³ cÃ¡c pháº§n tá»­ lÃ  nghá»‹ch Ä‘áº£o cá»§a cÃ¡c pháº§n tá»­ tÆ°Æ¡ng á»©ng trong A


#include<stdio.h>
#include<math.h>

// HÃ m tÃ­nh Æ°á»›c chung lá»›n nháº¥t cá»§a hai sá»‘
int gcd(int a, int b) {
    while (b != 0) {
        int temp = a % b;
        a = b;
        b = temp;
    }
    return a;
}

// HÃ m tÃ¬m nghá»‹ch Ä‘áº£o modulo cá»§a a mod p
int modInverse(int a, int p) {
    int m = p, t, q;
    int x0 = 0, x1 = 1;
    if (p == 1) return 0;
    while (a > 1) {
        q = a / p;
        t = p;
        p = a % p, a = t;
        t = x0;
        x0 = x1 - q * x0;
        x1 = t;
    }
    if (x1 < 0) x1 += m;
    return x1;
}

int main() {
    int phantu, p;
    printf("\nNhap p: "); scanf("%d", &p);
    printf("Nhap so phan tu trong mang: "); scanf("%d", &phantu);

    int mang[phantu];
    printf("Nhap cac phan tu cua mang, hay de so nay va p co gcd bang mot nhe \n");
    
    // Nháº­p cÃ¡c pháº§n tá»­ cá»§a máº£ng vÃ  kiá»ƒm tra gcd vá»›i p
    for (int e = 0; e < phantu; e++) {
        label:
        printf("A[%d] = ", e); scanf("%d", &mang[e]);

        // Kiá»ƒm tra gcd
        int gcdValue = gcd(mang[e], p);
        if (gcdValue != 1) {
            printf("\nHay nhap lai tu dau!\n");
            goto label;
        }
    }

    // In ra máº£ng A
    printf("mang A = (");
    for (int e = 0; e < phantu; e++)
        printf("  %d  ", mang[e]);
    printf(")\n");

    // TÃ­nh máº£ng B chá»©a cÃ¡c pháº§n tá»­ lÃ  nghá»‹ch Ä‘áº£o modulo cá»§a máº£ng A mod p
    int mangB[phantu];
    for (int e = 0; e < phantu; e++) {
        mangB[e] = modInverse(mang[e], p);
    }

    // In ra máº£ng B
    printf("Ket qua: (");
    for (int e = 0; e < phantu; e++) {
        printf(" %d ", mangB[e]);
    }
    printf(")\n");

    return 0;
}
